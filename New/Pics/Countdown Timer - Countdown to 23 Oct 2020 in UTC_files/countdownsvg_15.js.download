//Copyright timeanddate.com 2016, do not use without permission
(function e$$0(d,h,g){function a(e,c){if(!h[e]){if(!d[e]){var k="function"==typeof require&&require;if(!c&&k)return k(e,!0);if(f)return f(e,!0);k=Error("Cannot find module '"+e+"'");throw k.code="MODULE_NOT_FOUND",k;}k=h[e]={exports:{}};d[e][0].call(k.exports,function(c){var f=d[e][1][c];return a(f?f:c)},k,k.exports,e$$0,d,h,g)}return h[e].exports}for(var f="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a})({1:[function(b,d,h){d.exports=!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")},{}],2:[function(b,d,h){Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var a=Array.prototype.slice.call(arguments,1),f=this,c=function(){},e=function(){return f.apply(this instanceof c?this:b,a.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;e.prototype=new c;return e})},{}],3:[function(b,d,h){b(2);d=b(6);h=b(5);b=b(7);_T.control.add("CountdownSVG-Countdown",
d);_T.control.add("CountdownSVG-Background",h);_T.control.add("CountdownSVG-GUI",b)},{2:2,5:5,6:6,7:7}],4:[function(b,d,h){b(3);_T.control.applyBindingsOnLoad()},{3:3}],5:[function(b,d,h){var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a=b(12),f=b(13),c=b(11);b=function(e,b){this._element=e;this._options=b;c.hasSVG&&(this._SVG=new c(e));
this._image=new Image;this._onBackgroundSettingsChanged=this._onBackgroundSettingsChanged.bind(this);a.addEventListener("backgroundSettings.changed",this._onBackgroundSettingsChanged);this._onComplete=this._onComplete.bind(this);f.addEventListener("complete",this._onComplete);this._onSoonComplete=this._onSoonComplete.bind(this);f.addEventListener("soonComplete",this._onSoonComplete);this._onTimeReset=this._onTimeReset.bind(this);f.addEventListener("reset",this._onTimeReset);this._onFullscreenChanged=
this._onFullscreenChanged.bind(this);a.addEventListener("fullscreen.changed",this._onFullscreenChanged);"object"===g(window.backgroundSettings)&&a.loadBackgroundSettings(window.backgroundSettings)};b.prototype={_hasCompleted:!1,_settings:{},_setBackground:function(a){},_onBackgroundSettingsChanged:function(a){this._settings=a;c.hasSVG&&"undefined"!==typeof a.files.svg?(this._getSVG(),ac(this._element.parentNode,"hassvg",1)):ac(this._element.parentNode,"hassvg",0)},_onComplete:function(a){this._hasCompleted=
!0;ac(this._element.parentNode,"completed",1);c.hasSVG&&this._SVGready?this._setSVGAnimation():this._setBackground()},_onTimeReset:function(a){this._hasCompleted=a;ac(this._element.parentNode,"completed",a);c.hasSVG?this._setSVGAnimation(!0):this._setBackground()},_onSoonComplete:function(a){c.hasSVG||this._setBackground(!0)},_onFullscreenChanged:function(a){ac(this._element.parentNode,"fullscreen",a)},_setSVGAnimation:function(a){this._settings.keepLoop&&!a||this._SVG.dispose();this._hasCompleted?
(this._settings.keepLoop&&this._SVG.showAnimation("loop"),this._SVG.showAnimation("finish")):this._SVG.showAnimation("loop")},_SVGCache:{},_getSVG:function(){var a=this,c=a._settings.files.svg;a._SVG.dispose();a._element.innerHTML="";a._SVGready=!1;a._SVGCache[c]?(a._element.innerHTML=a._SVGCache[c],a._setSVGAnimation(!0)):jcb(c,function(f){a._SVGCache[c]=f;a._element.innerHTML=f;a._SVGready=!0;a._setSVGAnimation(!0)})},loadCountdownSettings:a.loadBackgroundSettings};d.exports=b},{11:11,12:12,13:13}],
6:[function(b,d,h){var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a=b(12),f=b(10);b=function(c,f){var b=this;b._element=c;var e=arrclone(c.querySelectorAll("*[data-tad-bind]"));b.nodes={};it(e,function(a){b.nodes[a.getAttribute("data-tad-bind")]=a});b._onSettingsChanged=b._onSettingsChanged.bind(b);a.addEventListener("countdownSettings.changed",
b._onSettingsChanged);"object"===g(window.countdownSettings)&&a.loadCountdownSettings(window.countdownSettings)};b.prototype={_onSettingsChanged:function(a){var c=a.newSettings;"undefined"!==typeof c.background&&this._setBackground(c.background);"undefined"!==typeof c.title&&this._setTitle(c.title);this._setFont(f[a.all.font]||f.cursive);a=ac;var c=this._element,b;b=(b=/[?&]ud=([^&]*)/.exec(window.location.search))&&decodeURIComponent(b[1].replace(/\+/g," "));a(c,"hasWeeks",b)},_setBackground:function(c){a.loadBackgroundSettings(c)},
_setTitle:function(a){var c=this.nodes.title;c.textContent=a;c.title=a;ac(c,"long",40<a.length)},_setFont:function(a){"undefined"!==typeof window.WebFont&&WebFont.load({google:{families:[a.name+":"+a.weight]}});this.nodes.title.className="csvg-title "+a.className}};d.exports=b},{10:10,12:12}],7:[function(b,d,h){function g(a,b){this._element=a;var c=this._element.children[0];this.toggleMenu=this.toggleMenu.bind(this);this._onKeyUp=this._onKeyUp.bind(this);this._onClick=this._onClick.bind(this);ael(c,
"click",this.toggleMenu)}h=b(9);b=b(8);_T.control.add("CountdownSVG-GUI-Fullscreen",h);_T.control.add("CountdownSVG-GUI-Demo",b);g.prototype={toggleMenu:function(a){var b=this;hC(b._element,"show")||!0===a?(ac(b._element,"show",0),document.onkeyup=null,document.onclick=null):(ac(b._element,"show",1),document.onkeyup=b._onKeyUp,setTimeout(function(){document.onclick=function(a){b._onClick(a||event)}},100))},_onKeyUp:function(a){27===(a||event).keyCode&&this.toggleMenu()},_onClick:function(a){a=a.target||
a.srcElement;for(var b=!0;a.parentNode;)a===this._element&&(b=!1),a=a.parentNode;b&&this.toggleMenu()}};d.exports=g},{8:8,9:9}],8:[function(b,d,h){var g=b(13);b=function(a){this._element=a;this._onClick=this._onClick.bind(this);ael(a,"click",this._onClick)};b.prototype={_onClick:function(){g.demo();"undefined"!==typeof this._element.parentNode.parentNode.tadControl&&this._element.parentNode.parentNode.tadControl.toggleMenu()}};d.exports=b},{13:13}],9:[function(b,d,h){function g(b){27===(b||event).keyCode&&
a.toggleFullscreen()}var a=b(12);a.addEventListener("fullscreen.changed",function(a){a?ael(document,"keyup",g):document.removeEventListener?document.removeEventListener("keyup",g):document.detachEvent("onkeyup",g)});b=function(a){this._element=a;this._onClick=this._onClick.bind(this);ael(a,"click",this._onClick)};b.prototype={_onClick:function(){a.toggleFullscreen();"undefined"!==typeof this._element.parentNode.parentNode.tadControl&&this._element.parentNode.parentNode.tadControl.toggleMenu()}};d.exports=
b},{12:12}],10:[function(b,d,h){d.exports={cursive:{name:"Lobster Two",weight:400,className:"font-cursive"},serif:{name:"Playfair Display",weight:400,className:"font-serif"},sanserif:{name:"Roboto",weight:400,className:"font-sanserif"},slab:{name:"Roboto Slab",weight:400,className:"font-slab"},hand:{name:"Shadows Into Light Two",weight:400,className:"font-hand"}}},{}],11:[function(b,d,h){h=b(1);var g=b(12);b=function(a){this._element=a;this._currentAnimation="loop";this._animate=this._animate.bind(this);
this._loadedAnimations=[]};b.hasSVG=h;b.prototype={showAnimation:function(a){-1===this._loadedAnimations.indexOf(a)&&(this._loadedAnimations.push(a),this._currentAnimation=a,this._initAnimation())},_select:function(a){return this._element.querySelector(a)},_initAnimation:function(){var a=g.getbackgroundSettings().animation[this._currentAnimation];if(a){if(a.hide)for(var b=0,c=a.hide.length;b<c;b++)this._select("#"+a.hide[b]).style.display="none";if(a.show)for(b=0,c=a.show.length;b<c;b++)this._select("#"+
a.show[b]).style.display="";if(a.animation)for(b=0,c=a.animation.length;b<c;b++)this._animate(a.animation[b])}},_animations:[],_animate:function(a){if("timeline"===a.type){var b=new TimelineMax(a.options);it(a.actions,function(a){a[3]&&(a[3].force3D=!0);if("set"===a[0])b.set(a[1],a[2],a[3]);else b[a[0]](a[1],a[2],a[3],a[4])});this._animations.push(b)}else"tween"===a.type&&(a=a.actions,a[3]&&(a[3].force3D=!0),a=TweenMax[a[0]](a[1],a[2],a[3]),this._animations.push(a))},dispose:function(){var a;for(this._loadedAnimations=
[];a=this._animations.pop();)a.seek(0).kill()}};d.exports=b},{1:1,12:12}],12:[function(b,d,h){var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a={},f={},c={background:"generic",title:"Countdown",date:new Date,showWeek:!1,font:"cursive",location:0,stopAtZero:!1},e=!1,k={"backgroundSettings.changed":[],"countdownSettings.changed":[],"fullscreen.changed":[]},
l=function(a,b){var c=k[a],d=[];"object"===("undefined"===typeof c?"undefined":g(c))&&(d=k[a]);it(d,function(a){a(b)})};d.exports={addEventListener:function(a,b){var c=k[a];"object"===("undefined"===typeof c?"undefined":g(c))&&k[a].push(b)},getbackgroundSettings:function(){return a},loadBackgroundSettings:function(b){"object"===("undefined"===typeof b?"undefined":g(b))?(a=b,f[b.meta.id]=b,l("backgroundSettings.changed",a)):"undefined"===typeof f[b]?jcb("/scripts/getcountdown.php?id="+b+".json",function(c){a=
JSON.parse(c);f[b]=a;l("backgroundSettings.changed",a)}):(a=f[b],l("backgroundSettings.changed",a))},getCountdownSettings:function(){return c},loadCountdownSettings:function(a){for(var b in a)c[b]=a[b];l("countdownSettings.changed",{newSettings:a,all:c})},getIsFullscreen:function(){return e},toggleFullscreen:function(){e=!e;l("fullscreen.changed",e);return e}}},{}],13:[function(b,d,h){var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},a=b(12);if("undefined"===typeof cks.el.c.t)throw Error("missing cks.el.c.t");var f=cks.el.c.t,c={tick:[],complete:[],soonComplete:[],reset:[]},e=function(a,b){var d=c[a],e=[];"object"===("undefined"===typeof d?"undefined":g(d))&&(e=c[a]);it(e,function(a){a(b)})},k=!1,l=!1,m=1;TO.aC(function(a){m=f-a;e("tick",m);0<m&&5E3>m&&!k&&(k=!0,e("soonComplete",m));0>=m&&!l&&(l=!0,e("complete",m))});var n=null;d.exports=
{getCountdownToTime:function(){return f},getTimeleft:function(){return 0},addEventListener:function(a,b){var d=c[a];"object"===("undefined"===typeof d?"undefined":g(d))&&c[a].push(b)},demo:function(){var b=a.getbackgroundSettings().demoDuration||15E3;TO.J=cks.el.c.t-TO.dt()-3E3;clearTimeout(n);n=setTimeout(function(){TO.J=0;l=k=!1;e("reset",!1)},b+3E3)}}},{12:12}]},{},[4]);
